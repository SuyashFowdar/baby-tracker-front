{"version":3,"sources":["components/HomeMeasurement.js","containers/Home.js","constants.js","components/List.js","containers/Measure.js","actions/index.js","containers/Admin.js","containers/Login.js","containers/App.js","reducers/measurements.js","reducers/index.js","index.js"],"names":["HomeMeasurement","measurement","to","id","className","list","length","amount","unit","style","color","toFixed","item","defaultProps","Home","measurements","useSelector","state","map","method","url","body","obj","headers","token","localStorage","JSON","stringify","Request","List","itemKey","displayAttr","toAddAttr","addItem","attr","onSubmit","type","name","placeholder","value","PetDetail","dispatch","useDispatch","useParams","useState","measure","setMeasure","errorMessage","setErrorMessage","useEffect","i","parseInt","selectMeasure","e","preventDefault","target","measure_id","fetch","getRequest","then","response","ok","Error","statusText","json","measureId","addMeasurement","window","location","reload","catch","Admin","redirect","setRedirect","measures","admin","addMeasure","Login","signin","setSignin","password","onClick","App","j","date","Date","created_at","toLocaleString","day","month","year","push","icon","faHome","clear","faSignOutAlt","exact","path","Measure","petsReducer","action","combineReducers","store","createStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"6WAKMA,EAAkB,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OACtB,cAAC,IAAD,UACE,eAAC,IAAD,CAAMC,GAAE,mBAAcD,EAAYE,IAAMC,UAAU,yDAAlD,UACGH,EAAYI,MAAQJ,EAAYI,KAAKC,OAElC,gCACE,qBAAKF,UAAU,SAAf,mBAA4BH,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAA1E,YAAoFN,EAAYO,QAC/FP,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAExC,sBAAKF,UAAU,sBAAsBK,MAAO,CAAEC,MAAOT,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAASN,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAAS,QAAU,OAA7K,UACGN,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAC7CN,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAAS,IAAM,IAC7DN,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,OAC9CN,EAAYI,KAAKJ,EAAYI,KAAKC,OAAS,GAAGC,QAAQI,QAAQ,MAGlE,2BAGN,qBAAKP,UAAU,aAAf,qBACJ,qBAAKA,UAAU,OAAf,SAAuBH,EAAYW,aAKzCZ,EAAgBa,aAAe,CAC7BZ,YAAa,IAOAD,QCnBAc,G,MAdF,WACX,IAAMC,EAAeC,aAAY,SAACC,GAAD,OAAWA,EAAMF,gBAElD,OACE,mCACE,qBAAKX,UAAU,WAAf,SACGW,EAAaG,KAAI,SAACjB,GAAD,OAChB,cAAC,EAAD,CAAsCA,YAAaA,GAA7BA,EAAYE,aCZ7B,WAACgB,EAAQC,EAAKC,GAC3B,IACMC,EAAM,CACVH,SACAI,QAAS,CACP,eAAgB,mBAChBC,MAAOC,aAAaD,QAQxB,MAJe,SAAXL,IACFG,EAAID,KAAOK,KAAKC,UAAUN,IAGrB,IAAIO,QAAJ,UAb8C,8CAa9C,OAAsBR,GAAOE,ICVhCO,G,MAAO,SAAC,GAAD,IACXxB,EADW,EACXA,KACAyB,EAFW,EAEXA,QACAC,EAHW,EAGXA,YACAC,EAJW,EAIXA,UACAC,EALW,EAKXA,QACAzB,EANW,EAMXA,KANW,OAQX,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,QAAf,SACGC,EAAKa,KAAI,SAACN,GAAD,OACR,qBAAyBR,UAAU,WAAnC,SACG2B,EAAYb,KAAI,SAACgB,GAAD,OACf,qBAAgB9B,UAAU,YAA1B,SACE,wCAASQ,EAAKsB,GAAd,YAAgC,WAATA,EAAoB1B,EAAO,OAD1C0B,OAFJtB,EAAKkB,SASnB,uBAAMK,SAAUF,EAAS7B,UAAU,uBAAnC,UACG4B,EAAUd,KAAI,SAACgB,GAAD,OACb,uBAAkBE,KAAK,OAAOC,KAAMH,EAAMI,YAAaJ,GAA3CA,MAEd,uBAAOE,KAAK,SAASG,MAAM,UAAUnC,UAAU,iBAKrDyB,EAAKhB,aAAe,CAClBR,KAAM,GACNG,KAAM,IAYOqB,QCaAW,EArDG,WAChB,IAAMC,EAAWC,cACTvC,EAAOwC,cAAPxC,GAFc,EAGQyC,mBAAS,IAHjB,mBAGfC,EAHe,KAGNC,EAHM,OAIkBF,mBAAS,IAJ3B,mBAIfG,EAJe,KAIDC,EAJC,KAKhBjC,EAAeC,aAAY,SAACC,GAAD,OAAWA,EAAMF,gBAoClD,OAHAkC,qBAAU,YAhCY,WACpB,IAAK,IAAIC,EAAI,EAAGA,EAAInC,EAAaT,OAAQ4C,GAAK,EAC5C,GAAInC,EAAamC,GAAG/C,KAAOgD,SAAShD,EAAI,IAAK,CAC3C2C,EAAW/B,EAAamC,IACxB,OA6BJE,MAGA,mCACE,qBAAKhD,UAAU,+BAAf,SACE,sBAAKA,UAAU,cAAf,UACE,cAAC,EAAD,CAAMC,KAAMwC,EAAQxC,KAAMyB,QAAQ,aAAaC,YAAa,CAAC,OAAQ,UAAWC,UAAW,CAAC,UAAWxB,KAAMqC,EAAQrC,KAAMyB,QA/BzG,SAACoB,GACzBA,EAAEC,iBACF,IAAIrD,EAAc,CAChBM,OAAQ8C,EAAEE,OAAOhD,OAAOgC,MACxBiB,WAAYX,EAAQ1C,IAEtBsD,MAAMC,EAAW,OAAQ,sBAAuBzD,IAC7C0D,MAAK,SAACC,GAEL,GADAZ,EAAgB,KACXY,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACDA,EAAS3D,cACXA,EAAc2D,EAAS3D,YACvBoD,EAAEE,OAAOhD,OAAOgC,MAAQ,GACxBE,EC3BoB,SAACwB,EAAWhE,GAAZ,MAA6B,CACzDmC,KAAM,kBACN6B,YACAhE,eDwBiBiE,CAAerB,EAAQ1C,GAAIF,IACpCkE,OAAOC,SAASC,aAGnBC,OAAM,WACLtB,EAAgB,mCAWd,qBAAK5C,UAAU,qCAAf,SAAqD2C,YEchDwB,EA5DD,WAAO,IAAD,EACc3B,oBAAS,GADvB,mBACX4B,EADW,KACDC,EADC,OAEsB7B,mBAAS,IAF/B,mBAEXG,EAFW,KAEGC,EAFH,KAGZP,EAAWC,cACXgC,EAAW1D,aAAY,SAACC,GAAD,OAAWA,EAAMF,gBA0C9C,OAlBAkC,qBAAU,WACJxB,aAAaD,OACfiC,MAAMC,EAAW,MAAO,gBACrBC,MAAK,SAACC,GACL,IAAKA,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACAA,EAASe,OACZF,GAAY,MAGfH,OAAM,WACLG,GAAY,SAMlB,8BACGD,EACG,cAAC,IAAD,CAAUtE,GAAG,MAEb,gCACE,cAAC,EAAD,CAAMG,KAAMqE,EAAU5C,QAAQ,OAAOC,YAAa,CAAC,OAAQ,QAASC,UAAW,CAAC,OAAQ,QAASC,QA/CrF,SAACoB,GACrBA,EAAEC,iBACF,IAAMT,EAAU,CACdjC,KAAMyC,EAAEE,OAAO3C,KAAK2B,MACpB/B,KAAM6C,EAAEE,OAAO/C,KAAK+B,OAEtBkB,MAAMC,EAAW,OAAQ,kBAAmBb,IACzCc,MAAK,SAACC,GACL,IAAKA,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACDA,EAASzD,KACX0C,EAAQ1C,GAAKyD,EAASzD,GACtBkD,EAAEE,OAAO3C,KAAK2B,MAAQ,GACtBc,EAAEE,OAAO/C,KAAK+B,MAAQ,GACtBE,EDvBgB,SAACI,GAAD,MAAc,CACtCT,KAAM,cACNS,WCqBiB+B,CAAW/B,QAGvByB,OAAM,WACLtB,EAAgB,mCA4BZ,qBAAK5C,UAAU,qCAAf,SAAqD2C,UCiBlD8B,G,MAzED,WAAO,IAAD,EACUjC,oBAAS,GADnB,mBACXkC,EADW,KACHC,EADG,OAEsBnC,mBAAS,IAF/B,mBAEXG,EAFW,KAEGC,EAFH,KA2ClB,OACE,sBAAK5C,UAAU,QAAf,UACG0E,EAEG,qBAAK1E,UAAU,+BAAf,SACE,uBAAM+B,SA7CF,SAACkB,GACbA,EAAEC,iBACFG,MAAMC,EAAW,OAAQ,cAAe,CACtCrB,KAAMgB,EAAEE,OAAOlB,KAAKE,MACpByC,SAAU3B,EAAEE,OAAOyB,SAASzC,SAE3BoB,MAAK,SAACC,GACL,IAAKA,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACDA,EAASpC,QACXC,aAAaD,MAAQoC,EAASpC,MAC9B2C,OAAOC,SAASC,aAGnBC,OAAM,WACLtB,EAAgB,yBA4BW5C,UAAU,mBAAjC,UACE,yCACA,uBAAOgC,KAAK,OAAOC,KAAK,OAAOC,YAAY,aAC3C,uBAAOF,KAAK,WAAWC,KAAK,WAAWC,YAAY,aACnD,uBAAOF,KAAK,SAASG,MAAM,UAAUnC,UAAU,cAC/C,wBAAQgC,KAAK,SAAS6C,QAAS,WAAQF,GAAU,IAAW3E,UAAU,mBAAtE,wCAKJ,qBAAKA,UAAU,+BAAf,SACE,uBAAM+B,SApCD,SAACkB,GACdA,EAAEC,iBACFG,MAAMC,EAAW,OAAQ,eAAgB,CACvCrB,KAAMgB,EAAEE,OAAOlB,KAAKE,MACpByC,SAAU3B,EAAEE,OAAOyB,SAASzC,SAE3BoB,MAAK,SAACC,GACL,IAAKA,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACDA,EAASpC,QACXC,aAAaD,MAAQoC,EAASpC,MAC9B2C,OAAOC,SAASC,aAGnBC,OAAM,WACLtB,EAAgB,yBAmBY5C,UAAU,mBAAlC,UACE,oDACA,uBAAOgC,KAAK,OAAOC,KAAK,OAAOC,YAAY,aAC3C,uBAAOF,KAAK,WAAWC,KAAK,WAAWC,YAAY,aACnD,uBAAOF,KAAK,SAASG,MAAM,UAAUnC,UAAU,cAC/C,wBAAQgC,KAAK,SAAS6C,QAAS,WAAQF,GAAU,IAAU3E,UAAU,mBAArE,qCAIR,qBAAKA,UAAU,qCAAf,SAAqD2C,SCY5CmC,G,MAlEH,WACV,IAAMzC,EAAWC,cADD,EAEwBE,mBAAS,IAFjC,mBAETG,EAFS,KAEKC,EAFL,KAGhBC,qBAAU,WACJxB,aAAaD,OACfiC,MAAMC,EAAW,MAAO,uBACrBC,MAAK,SAACC,GACL,IAAKA,EAASC,GAAI,MAAMC,MAAMF,EAASG,YACvC,OAAOH,EAASI,UAEjBL,MAAK,SAACC,GACL,GAAIA,EAASc,UAAYd,EAAS7C,aAChC,IAAK,IAAIoE,EAAI,EAAGA,EAAIvB,EAASc,SAASpE,OAAQ6E,GAAK,EAAG,CACpD,IAAMtC,EAAUe,EAASc,SAASS,GAClCtC,EAAQxC,KAAO,GACf,IAAK,IAAI6C,EAAI,EAAGA,EAAIU,EAAS7C,aAAaT,OAAQ4C,GAAK,EAAG,CACxD,IAAMjD,EAAc2D,EAAS7C,aAAamC,GACpCkC,EAAO,IAAIC,KAAKpF,EAAYqF,YAClCrF,EAAYmF,KAAOA,EAAKG,eAAe,UAAW,CAAEC,IAAK,UAAWC,MAAO,OAAQC,KAAM,YACrFzF,EAAYuD,aAAeX,EAAQ1C,IAAI0C,EAAQxC,KAAKsF,KAAK1F,IAInEwC,EHzCwC,CAChDL,KAAM,mBACNrB,aGuCiC6C,EAASc,cAEnCJ,OAAM,WACLtB,EAAgB,sCAUxB,OACE,8BACGvB,aAAaD,MAEV,eAAC,IAAD,WACE,qBAAKpB,UAAU,qCAAf,SAAqD2C,IACrD,yBAAQ3C,UAAU,wBAAlB,UACE,eAAC,IAAD,CAAMF,GAAG,IAAIE,UAAU,kDAAvB,UACE,cAAC,IAAD,CAAiBwF,KAAMC,IAAvB,sBACA,2CAEF,yBAAQzD,KAAK,SAAS6C,QAhBnB,WACbxD,aAAaqE,QACb3B,OAAOC,SAASC,UAciCjE,UAAU,yCAAjD,UACE,cAAC,IAAD,CAAiBwF,KAAMG,IAAvB,sBACA,iDAGJ,qBAAK3F,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO4F,OAAK,EAACC,KAAK,IAAlB,SAAsB,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOA,KAAK,eAAZ,SAA2B,cAACC,EAAD,MAC3B,cAAC,IAAD,CAAOD,KAAK,SAAZ,SAAqB,cAAC,EAAD,cAK3B,cAAC,EAAD,Q,QC7DKE,EAlBK,WAAyB,IAAxBlF,EAAuB,uDAAf,GAAImF,EAAW,uCAC1C,OAAQA,EAAOhE,MACb,IAAK,mBACH,OAAOgE,EAAOrF,aAChB,IAAK,cACH,MAAM,GAAN,mBAAWE,GAAX,CAAkBmF,EAAOvD,UAC3B,IAAK,kBACH,IAAK,IAAIK,EAAI,EAAGA,EAAIjC,EAAMX,OAAQ4C,GAAK,EACjCjC,EAAMiC,GAAG/C,KAAOiG,EAAOnC,WACzBhD,EAAMiC,GAAG7C,KAAKsF,KAAKS,EAAOnG,aAG9B,OAAOgB,EACT,QACE,OAAOA,ICXEoF,cAAgB,CAAEtF,iBCK3BuF,EAAQC,YAAYC,GAE1BC,IAASC,OACP,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFK,SAASC,eAAe,W","file":"static/js/main.2df8834f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { HashRouter as Router, Link } from 'react-router-dom';\nimport '../assets/css/HomeMeasurement.scss';\n\nconst HomeMeasurement = ({ measurement }) => (\n  <Router>\n    <Link to={`/measure/${measurement.id}`} className=\"measurement link bg-cover col cross-center main-center\">\n      {measurement.list && measurement.list.length\n        ? (\n          <div>\n            <div className=\"amount\">{`${measurement.list[measurement.list.length - 1].amount} ${measurement.unit}`}</div>\n            {measurement.list[measurement.list.length - 2]\n              ? (\n                <div className=\"row main-center dif\" style={{ color: measurement.list[measurement.list.length - 1].amount > measurement.list[measurement.list.length - 2].amount ? 'green' : 'red' }}>\n                  {measurement.list[measurement.list.length - 1].amount\n                  > measurement.list[measurement.list.length - 2].amount ? '+' : ''}\n                  {(measurement.list[measurement.list.length - 1].amount\n                  - measurement.list[measurement.list.length - 2].amount).toFixed(2)}\n                </div>\n              )\n              : <div />}\n          </div>\n        )\n        : <div className=\"amount new\">Add new</div>}\n      <div className=\"type\">{measurement.item}</div>\n    </Link>\n  </Router>\n);\n\nHomeMeasurement.defaultProps = {\n  measurement: {},\n};\n\nHomeMeasurement.propTypes = {\n  measurement: PropTypes.instanceOf(Object),\n};\n\nexport default HomeMeasurement;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport HomeMeasurement from '../components/HomeMeasurement';\nimport '../assets/css/Home.scss';\n\nconst Home = () => {\n  const measurements = useSelector((state) => state.measurements);\n\n  return (\n    <>\n      <div className=\"row wrap\">\n        {measurements.map((measurement) => (\n          <HomeMeasurement key={measurement.id} measurement={measurement} />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","export default (method, url, body) => {\n  const host = process.env.NODE_ENV === 'production' ? 'https://suyash-baby-tracker.herokuapp.com/' : 'http://localhost:3000/';\n  const obj = {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      token: localStorage.token,\n    },\n  };\n\n  if (method === 'POST') {\n    obj.body = JSON.stringify(body);\n  }\n\n  return new Request(`${host}${url}`, obj);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../assets/css/List.scss';\n\nconst List = ({\n  list,\n  itemKey,\n  displayAttr,\n  toAddAttr,\n  addItem,\n  unit,\n}) => (\n  <div className=\"list\">\n    <div className=\"items\">\n      {list.map((item) => (\n        <div key={item[itemKey]} className=\"row link\">\n          {displayAttr.map((attr) => (\n            <div key={attr} className=\"flex item\">\n              <div>{`${item[attr]} ${attr === 'amount' ? unit : ''}`}</div>\n            </div>\n          ))}\n        </div>\n      ))}\n    </div>\n    <form onSubmit={addItem} className=\"row main-center wrap\">\n      {toAddAttr.map((attr) => (\n        <input key={attr} type=\"text\" name={attr} placeholder={attr} />\n      ))}\n      <input type=\"submit\" value=\"Add New\" className=\"link\" />\n    </form>\n  </div>\n);\n\nList.defaultProps = {\n  list: [],\n  unit: '',\n};\n\nList.propTypes = {\n  list: PropTypes.instanceOf(Array),\n  unit: PropTypes.string,\n  itemKey: PropTypes.string.isRequired,\n  addItem: PropTypes.func.isRequired,\n  displayAttr: PropTypes.instanceOf(Array).isRequired,\n  toAddAttr: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default List;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport getRequest from '../constants';\nimport List from '../components/List';\nimport { addMeasurement } from '../actions';\n\nconst PetDetail = () => {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const [measure, setMeasure] = useState({});\n  const [errorMessage, setErrorMessage] = useState('');\n  const measurements = useSelector((state) => state.measurements);\n  const selectMeasure = () => {\n    for (let i = 0; i < measurements.length; i += 1) {\n      if (measurements[i].id === parseInt(id, 10)) {\n        setMeasure(measurements[i]);\n        break;\n      }\n    }\n  };\n  const createMeasurement = (e) => {\n    e.preventDefault();\n    let measurement = {\n      amount: e.target.amount.value,\n      measure_id: measure.id,\n    };\n    fetch(getRequest('POST', 'measurements/create', measurement))\n      .then((response) => {\n        setErrorMessage('');\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.measurement) {\n          measurement = response.measurement;\n          e.target.amount.value = '';\n          dispatch(addMeasurement(measure.id, measurement));\n          window.location.reload();\n        }\n      })\n      .catch(() => {\n        setErrorMessage(\"Couldn't add Measurement!\");\n      });\n  };\n  useEffect(() => {\n    selectMeasure();\n  });\n  return (\n    <>\n      <div className=\"row cross-center main-center\">\n        <div className=\"w-100 h-100\">\n          <List list={measure.list} itemKey=\"created_at\" displayAttr={['date', 'amount']} toAddAttr={['amount']} unit={measure.unit} addItem={createMeasurement} />\n          <div className=\"error row main-center cross-center\">{errorMessage}</div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PetDetail;\n","export const setMeasurements = (measurements) => ({\n  type: 'SET_MEASUREMENTS',\n  measurements,\n});\n\nexport const addMeasure = (measure) => ({\n  type: 'ADD_MEASURE',\n  measure,\n});\n\nexport const addMeasurement = (measureId, measurement) => ({\n  type: 'ADD_MEASUREMENT',\n  measureId,\n  measurement,\n});\n","import React, { useEffect, useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport getRequest from '../constants';\nimport List from '../components/List';\nimport { addMeasure } from '../actions';\n\nconst Admin = () => {\n  const [redirect, setRedirect] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const dispatch = useDispatch();\n  const measures = useSelector((state) => state.measurements);\n  const createMeasure = (e) => {\n    e.preventDefault();\n    const measure = {\n      item: e.target.item.value,\n      unit: e.target.unit.value,\n    };\n    fetch(getRequest('POST', 'measures/create', measure))\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.id) {\n          measure.id = response.id;\n          e.target.item.value = '';\n          e.target.unit.value = '';\n          dispatch(addMeasure(measure));\n        }\n      })\n      .catch(() => {\n        setErrorMessage(\"Couldn't add new Measure!\");\n      });\n  };\n  useEffect(() => {\n    if (localStorage.token) {\n      fetch(getRequest('GET', 'users/admin'))\n        .then((response) => {\n          if (!response.ok) throw Error(response.statusText);\n          return response.json();\n        })\n        .then((response) => {\n          if (!response.admin) {\n            setRedirect(true);\n          }\n        })\n        .catch(() => {\n          setRedirect(true);\n        });\n    }\n  });\n\n  return (\n    <div>\n      {redirect\n        ? <Redirect to=\"/\" />\n        : (\n          <div>\n            <List list={measures} itemKey=\"item\" displayAttr={['item', 'unit']} toAddAttr={['item', 'unit']} addItem={createMeasure} />\n            <div className=\"error row main-center cross-center\">{errorMessage}</div>\n          </div>\n        )}\n    </div>\n  );\n};\n\nexport default Admin;\n","import React, { useState } from 'react';\nimport getRequest from '../constants';\nimport '../assets/css/Login.scss';\n\nconst Login = () => {\n  const [signin, setSignin] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n  const login = (e) => {\n    e.preventDefault();\n    fetch(getRequest('POST', 'users/login', {\n      name: e.target.name.value,\n      password: e.target.password.value,\n    }))\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.token) {\n          localStorage.token = response.token;\n          window.location.reload();\n        }\n      })\n      .catch(() => {\n        setErrorMessage(\"Couldn't Sign In!\");\n      });\n  };\n  const signup = (e) => {\n    e.preventDefault();\n    fetch(getRequest('POST', 'users/create', {\n      name: e.target.name.value,\n      password: e.target.password.value,\n    }))\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((response) => {\n        if (response.token) {\n          localStorage.token = response.token;\n          window.location.reload();\n        }\n      })\n      .catch(() => {\n        setErrorMessage(\"Couldn't Sign Up!\");\n      });\n  };\n  return (\n    <div className=\"login\">\n      {signin\n        ? (\n          <div className=\"col cross-center main-center\">\n            <form onSubmit={login} className=\"col cross-center\">\n              <h2>Sign In</h2>\n              <input type=\"text\" name=\"name\" placeholder=\"Username\" />\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" />\n              <input type=\"submit\" value=\"Sign In\" className=\"link w-90\" />\n              <button type=\"button\" onClick={() => { setSignin(false); }} className=\"link button w-90\">or create new account</button>\n            </form>\n          </div>\n        )\n        : (\n          <div className=\"col cross-center main-center\">\n            <form onSubmit={signup} className=\"col cross-center\">\n              <h2>Create new account</h2>\n              <input type=\"text\" name=\"name\" placeholder=\"Username\" />\n              <input type=\"password\" name=\"password\" placeholder=\"Password\" />\n              <input type=\"submit\" value=\"Sign Up\" className=\"link w-90\" />\n              <button type=\"button\" onClick={() => { setSignin(true); }} className=\"link button w-90\">Go to Sign In page</button>\n            </form>\n          </div>\n        )}\n      <div className=\"error row main-center cross-center\">{errorMessage}</div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useEffect, useState } from 'react';\nimport {\n  HashRouter as Router,\n  Link,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignOutAlt, faHome } from '@fortawesome/free-solid-svg-icons';\nimport Home from './Home';\nimport Measure from './Measure';\nimport Admin from './Admin';\nimport Login from './Login';\nimport getRequest from '../constants';\nimport '../assets/css/App.scss';\nimport { setMeasurements } from '../actions';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const [errorMessage, setErrorMessage] = useState('');\n  useEffect(() => {\n    if (localStorage.token) {\n      fetch(getRequest('GET', 'measurements/fetch'))\n        .then((response) => {\n          if (!response.ok) throw Error(response.statusText);\n          return response.json();\n        })\n        .then((response) => {\n          if (response.measures && response.measurements) {\n            for (let j = 0; j < response.measures.length; j += 1) {\n              const measure = response.measures[j];\n              measure.list = [];\n              for (let i = 0; i < response.measurements.length; i += 1) {\n                const measurement = response.measurements[i];\n                const date = new Date(measurement.created_at);\n                measurement.date = date.toLocaleString('default', { day: 'numeric', month: 'long', year: 'numeric' });\n                if (measurement.measure_id === measure.id) measure.list.push(measurement);\n              }\n            }\n          }\n          dispatch(setMeasurements(response.measures));\n        })\n        .catch(() => {\n          setErrorMessage(\"Couldn't fetch Measurements!\");\n        });\n    }\n  });\n\n  const logout = () => {\n    localStorage.clear();\n    window.location.reload();\n  };\n\n  return (\n    <div>\n      {localStorage.token\n        ? (\n          <Router>\n            <div className=\"error row main-center cross-center\">{errorMessage}</div>\n            <header className=\"row main-space-around\">\n              <Link to=\"/\" className=\"col cross-center main-center shadow-5 link flex\">\n                <FontAwesomeIcon icon={faHome}>Sign Out</FontAwesomeIcon>\n                <span>Home</span>\n              </Link>\n              <button type=\"button\" onClick={logout} className=\"link col cross-center main-center flex\">\n                <FontAwesomeIcon icon={faSignOutAlt}>Sign Out</FontAwesomeIcon>\n                <span>Log out</span>\n              </button>\n            </header>\n            <div className=\"main\">\n              <Switch>\n                <Route exact path=\"/\"><Home /></Route>\n                <Route path=\"/measure/:id\"><Measure /></Route>\n                <Route path=\"/admin\"><Admin /></Route>\n              </Switch>\n            </div>\n          </Router>\n        )\n        : <Login />}\n    </div>\n  );\n};\n\nexport default App;\n","const petsReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'SET_MEASUREMENTS':\n      return action.measurements;\n    case 'ADD_MEASURE':\n      return [...state, action.measure];\n    case 'ADD_MEASUREMENT':\n      for (let i = 0; i < state.length; i += 1) {\n        if (state[i].id === action.measureId) {\n          state[i].list.push(action.measurement);\n        }\n      }\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport default petsReducer;\n","import { combineReducers } from 'redux';\nimport measurements from './measurements';\n\nexport default combineReducers({ measurements });\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport './assets/css/index.scss';\nimport App from './containers/App';\nimport reducer from './reducers/index';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}